

metadata.rb 


Creating a cookbook
======================

To generate cookbook

cookbooks$ chef generate cookbook cookbookname


Cookbook: cokkbook is collection of recipes, files, templates etc...

Recipe: It is a collection of chef resources 
-------  

Chef resources: 
---------------

For Example: 

file resource

to create file,

under default.rb
-----------------

1) file '/tmp/welcome.txt' do
       action :create
    end

 (or) 

2) file '/tmp/welcome.txt'

both are same

-> Using this cookbook we want to create welcome.txt file on a node.

    Step1: First we must upload chef cookbook into chef server.

            $ knife upload cookbook cookbookname
            $ knife upload cookbook hello-world

    Step2: Configuring a node using hello-world cookbook
               
           - Bootstraping a node

              $ knife bootstrap <IP Address> -x <USERNAME> -P <PASSWORD> --run-list 
                'recipe[hello-world::default]'

              $ knife bootstrap 192.168.70.12 -x root -P vagrant --run-list 
                'recipe[hello-world::default]'

              $ knife bootstrap 192.168.70.12 -x root -P vagrant -N Node-1 
                'recipe[hello-world::default]'



Knife Bootstrap process:
------------------------


Step1: knife will ssh into the node.
           
Step2: It installs chef client on the node.

Step3: Chef client on the node talks to chef server.

Step4: Chef client downloads the cookbook mention in the runlist

Step5: It executes default recipe according to our runlist



Note: Bootstraping a node must be done only once.


Step6: 













